(this["webpackJsonpbd1-trabalho-final"]=this["webpackJsonpbd1-trabalho-final"]||[]).push([[0],{114:function(a,e,t){},138:function(a,e,t){"use strict";t.r(e);var n=t(6),r=t(0),c=t.n(r),o=t(12),i=t.n(o),p=(t(114),t(8)),s={HOME:"home",AVIAO:"aviao",FUNCIONARIO:"funcionario",PASSAGEIRO:"passageiro",VIAGEM:"viagem",LOCALIZACAO:"localizacao",PASSAGEM:"passagem",TRIPULACAO:"tripulacao"},u=t(182),d=t(188),l=t(187),b=t(184),m=t(185),j=t(91),f=t(186),O=Object(j.a)((function(){return{text:{width:"62%",color:"#dbdbdb"},buttonText:{color:"#c4c4c4"},bg:{backgroundColor:"#000"}}})),h=function(a){var e=O(),t=a.changePage,r=a.pages;return Object(n.jsx)(u.a,{className:e.bg,position:"static",children:Object(n.jsxs)(b.a,{children:[Object(n.jsx)(m.a,{className:e.text,variant:"h3",align:"justify",children:"SSS Passagens A\xe9reas"}),Object(n.jsx)(f.a,{variant:"fullWidth",orientation:"horizontal"}),Object(n.jsx)(l.a,{container:!0,spacing:1,justify:"flex-end",children:Object.values(r).map((function(a){return Object(n.jsx)(l.a,{item:!0,xs:"auto",children:Object(n.jsx)(d.a,{onClick:function(){return t(a)},children:Object(n.jsx)(m.a,{className:e.buttonText,variant:"button",children:a})})},a)}))})]})})},g=t(58),x=t(139),v=t(193),C=t(93),A=t(88),I=t.n(A),P=t(25),S=t(26),F=t(194),y=t(27),D=t.n(y),N=t(50),E=t(51),w=t.n(E),M="179.179.222.111",T=function(){var a=Object(N.a)(D.a.mark((function a(e){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",w.a.get("http://".concat(M,":150/TrabBD/api/").concat(e)).then((function(a){return a?a.data:null})));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),R=function(){var a=Object(N.a)(D.a.mark((function a(e,t){var n,r,c,o,i,s;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(n="http://".concat(M,":150/TrabBD/api/").concat(e,"/insert?"),r=0,c=Object.entries(t);r<c.length;r++)o=Object(p.a)(c[r],2),i=o[0],s=o[1],n=n.concat("&".concat(i,"=").concat(s));return a.abrupt("return",w.a.post(n));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),k=function(){var a=Object(N.a)(D.a.mark((function a(e,t){var n;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n="http://".concat(M,":150/TrabBD/api/").concat(e,"/delete?id=").concat(t),e!==s.PASSAGEIRO&&e!==s.FUNCIONARIO||(n="http://".concat(M,":150/TrabBD/api/").concat(e,"/delete?cpf=").concat(t)),e===s.PASSAGEM&&(n="http://".concat(M,":150/TrabBD/api/").concat(e,"/delete?passageiroCPF=").concat(t.split("/")[0],"&viagemId=").concat(t.split("/")[1])),a.abrupt("return",w.a.delete(n));case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),B=function(){var a=Object(N.a)(D.a.mark((function a(e,t,n){var r,c,o,i,u,d;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(r="http://".concat(M,":150/TrabBD/api/").concat(e,"/update?"),e!==s.PASSAGEIRO&&e!==s.FUNCIONARIO||(r="http://".concat(M,":150/TrabBD/api/").concat(e,"/update?cpf=").concat(t)),e===s.PASSAGEM&&(r="http://".concat(M,":150/TrabBD/api/").concat(e,"/update?passageiroCPF=").concat(t.split("/")[0],"&viagemId=").concat(t.split("/")[1])),c=0,o=Object.entries(n);c<o.length;c++)i=Object(p.a)(o[c],2),u=i[0],d=i[1],r=r.concat("&".concat(u,"=").concat(d));return a.abrupt("return",w.a.put(r,n));case 5:case"end":return a.stop()}}),a)})));return function(e,t,n){return a.apply(this,arguments)}}(),G=function(a){var e=a.page,t=a.campos,c=a.closeModal,o=a.editionFormFields,i=Object(r.useState)(o),u=Object(p.a)(i,2),b=u[0],j=u[1];return Object(n.jsxs)(l.a,{style:{padding:"30px",width:"500px",margin:"auto",borderRadius:"40px",backgroundColor:"#fff"},direction:"column",justify:"center",container:!0,spacing:1,children:[Object(n.jsxs)(m.a,{gutterBottom:!0,variant:"h4",children:["Adicionar ",e]}),t.map((function(a){return Object(n.jsx)(l.a,{style:{marginBottom:"10px"},item:!0,xs:12,children:Object(n.jsx)(F.a,{disabled:!b&&"cpf"===a.prop,fullWidth:!0,size:"small",placeholder:a.name,variant:"outlined",onChange:function(e){return j((function(t){return Object(S.a)(Object(S.a)({},t),{},Object(P.a)({},a.prop,e.target.value))}))},value:b[a.prop]})},a.name)})),Object(n.jsx)(l.a,{item:!0,xs:12,children:Object(n.jsx)(d.a,{onClick:function(){return function(){var a,n=0!==Object.entries(o).length&&""!==Object.entries(o)[0][1],r={},i=Object(g.a)(t);try{for(i.s();!(a=i.n()).done;){var p=a.value;r[p.prop]=b[p.prop]}}catch(d){i.e(d)}finally{i.f()}var u="";e!==s.FUNCIONARIO&&e!==s.PASSAGEIRO||(u=r.cpf),e===s.PASSAGEM&&(u="".concat(r.passageiroCPF,"/").concat(r.viagemId)),n?B(e,u,r).then((function(){return c()})).catch((function(a){return console.log(a)})):R(e,r).then((function(){return c()})).catch((function(a){return console.log(a)}))}()},variant:"contained",color:"primary",children:"Salvar"})})]})},U=t(87),z=t.n(U),V=t(86),H=t.n(V),L=t(65),J=function(a){var e=a.page,t=a.campos,c=a.auxUpdateTable,o=a.handleEdit,i=Object(r.useState)([]),u=Object(p.a)(i,2),d=u[0],l=u[1],b=Object(r.useState)(!1),m=Object(p.a)(b,2),j=m[0],f=m[1];Object(r.useEffect)((function(){l([]),T(e).then((function(a){if(a&&Object(L.b)(a)){var t=a.map((function(a){return e===s.FUNCIONARIO||e===s.PASSAGEIRO?Object(S.a)(Object(S.a)({},a),{},{id:a.cpf}):e===s.PASSAGEM?Object(S.a)(Object(S.a)({},a),{},{id:"".concat(a.passageiroCPF,"/").concat(a.viagemId)}):Object(S.a)({},a)}));l(t)}})),f(!1)}),[t,c,e,j]);var O=t?t.map((function(a){return{field:a.prop,headerName:a.name,flex:1}})):null;return O.push({field:"edit",headerName:"Editar",flex:1,renderCell:function(a){return Object(n.jsx)(C.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return o(a.data)},children:Object(n.jsx)(H.a,{})})}}),O.push({field:"remove",headerName:"Remover",flex:1,renderCell:function(a){return Object(n.jsx)(C.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return function(a,e){k(a,e).then((function(){return f(!0)}))}(e,a.data.id)},children:Object(n.jsx)(z.a,{})})}}),Object(n.jsx)("div",{style:{width:"100%",marginTop:"1vh",display:"flex",height:"400px"},children:Object(n.jsx)(L.a,{autoHeight:!0,rows:d,columns:O,pageSize:5})})},W={funcionario:[{name:"CPF",prop:"cpf"},{name:"Nome",prop:"nome"},{name:"Cargo",prop:"cargo"},{name:"Data de Contrata\xe7\xe3o",prop:"dataContratacao"},{name:"Horas de Voo",prop:"hrVoo"}],aviao:[{name:"ID",prop:"id"},{name:"Modelo",prop:"modelo"},{name:"Data de Fabrica\xe7\xe3o",prop:"dataFabricacao"},{name:"Data \xdaltima Manuten\xe7\xe3o",prop:"dataUltimaManutencao"},{name:"Capacidade",prop:"capacidade"}],passageiro:[{name:"CPF",prop:"cpf"},{name:"Nome",prop:"nome"},{name:"Data de Nascimento",prop:"dataNascimento"}],localizacao:[{name:"ID",prop:"id"},{name:"Nome",prop:"nome"},{name:"Cidade",prop:"cidade"},{name:"Estado",prop:"estado"}],passagem:[{name:"CPF do passageiro",prop:"passageiroCPF"},{name:"ID da Viagem",prop:"viagemId"},{name:"Poltrona",prop:"poltrona"}],tripulacao:[{name:"ID",prop:"id"},{name:"CPF Piloto",prop:"pilotoCPF"},{name:"CPF Copiloto",prop:"copilotoCPF"},{name:"CPF Comissario1",prop:"comissario1CPF"},{name:"CPF Comissario2",prop:"comissario2CPF"}],viagem:[{name:"ID",prop:"id"},{name:"N\xfamero de Passagens",prop:"numeroPassagens"},{name:"Pre\xe7o",prop:"preco"},{name:"Data",prop:"data"},{name:"Horas de Voo",prop:"hrVoo"},{name:"ID da Origem",prop:"origemId"},{name:"ID da Destino",prop:"destinoId"},{name:"ID da Tripula\xe7\xe3o",prop:"tripulacaoId"},{name:"ID do Avi\xe3o",prop:"aviaoId"}],home:[]},Z=function(a){var e,t=a.currentPage,c=W[t],o={},i=Object(g.a)(c);try{for(i.s();!(e=i.n()).done;){var u=e.value;o["".concat(u.prop)]=""}}catch(N){i.e(N)}finally{i.f()}var d=Object(r.useState)(!1),l=Object(p.a)(d,2),b=l[0],j=l[1],f=Object(r.useState)(o),O=Object(p.a)(f,2),h=O[0],A=O[1],P=Object(r.useState)(0),S=Object(p.a)(P,2),F=S[0],y=S[1],D=function(){j(!1),A(o),y(Math.random())};return Object(n.jsxs)(x.a,{elevation:10,children:[Object(n.jsx)(m.a,{variant:"h4",style:{padding:"20px 0"},children:t.charAt(0).toUpperCase()+t.slice(1)}),t!==s.HOME?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(J,{campos:W[t],page:t,auxUpdateTable:F,handleEdit:function(a){A(a),j(!0)}}),Object(n.jsxs)(C.a,{onClick:function(){return j(!0)},"aria-label":"add new ".concat(t),children:[Object(n.jsx)(I.a,{style:{marginRight:"10px"}}),"Adicionar ",t]})]}):Object(n.jsx)("img",{alt:"peixe",height:"100%",width:"100%",src:"https://cdn.dribbble.com/users/3451272/screenshots/7114465/media/9d8d4b08b3bfc07d7729abd12032373f.jpg"}),Object(n.jsx)(v.a,{open:b,onClose:function(){return D()},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(n.jsx)(G,{page:t,campos:c,closeModal:function(){return D()},editionFormFields:h})})]})},q=function(){var a=Object(r.useState)(s.HOME),e=Object(p.a)(a,2),t=e[0],c=e[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h,{changePage:function(a){return t!==a?c(a):null},pages:s}),Object(n.jsx)(Z,{currentPage:t})]})};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(q,{})}),document.getElementById("root"))}},[[138,1,2]]]);
//# sourceMappingURL=main.e83d3e39.chunk.js.map